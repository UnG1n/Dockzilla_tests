# Liquid Sorter - Решение головоломки "Сортировка жидкостей"

## Описание

Программа решает популярную головоломку "сортировка жидкостей" (Water Sort Puzzle). Задача заключается в том, чтобы переливая жидкости из пробирки в пробирку, отсортировать их таким образом, чтобы каждая жидкость одного цвета оказалась в отдельной пробирке.

## Правила игры

- Дано N пробирок одинакового объёма V
- В задаче объём дискретный, измеряется в "каплях"
- Дано M разноцветных жидкостей (N > M) объёма V
- (N - M) пробирок пусты
- За один ход можно перелить жидкость из пробирки A в пробирку B по правилам:
  - В пробирке A есть жидкость
  - В пробирке B есть пустое место
  - Переливать можно только верхние капли и только одного цвета
  - Переливать жидкость из пробирки A можно только в том случае, если в пробирке B верхняя жидкость того же цвета, либо пробирка B пуста
  - Если в пробирке A сверху находится более одной капли одного цвета, их можно перелить либо все, либо столько, сколько есть места в пробирке B

## Тестовый пример

### Исходное состояние:
```
Tube 0: [R, G, G, B]
Tube 1: [G, R, B, B] 
Tube 2: [B, R, R, G]
Tube 3: [] (пустая)
Tube 4: [] (пустая)
Tube 5: [] (пустая)
```

### Финальное состояние:
```
Tube 0: [B, B, B, B] ✅ (все синие)
Tube 1: [R, R, R, R] ✅ (все красные)
Tube 2: [] (пустая)
Tube 3: [] (пустая)
Tube 4: [G, G, G, G] ✅ (все зеленые)
Tube 5: [] (пустая)
```

### Решение (пример последовательности ходов):
```
(1,3) (1,4) (0,3) (2,1) (0,5) (0,4) (5,0) (0,1) 
(3,0) (1,5) (0,3) (4,1) (3,0) (0,4) (2,1) (1,3) 
(3,1) (4,0) (5,4) (2,0)
```

## Установка и запуск

1. Установите зависимости:
```bash
npm install
```

2. Скомпилируйте проект:
```bash
npm run build
```

3. Запустите программу:
```bash
npm start
```

## Скрипты

- `npm run build` - компиляция TypeScript в JavaScript
- `npm start` - запуск скомпилированной программы
- `npm run dev` - запуск в режиме разработки с ts-node
- `npm run clean` - очистка папки dist

## Структура проекта

- `src/Tube.ts` - класс пробирки с логикой переливания
- `src/Game.ts` - класс игры с алгоритмом решения
- `src/index.ts` - точка входа с тестовым примером
- `dist/` - скомпилированные JavaScript файлы

## Алгоритм

Программа использует простой алгоритм случайного выбора ходов из всех возможных. На каждом шаге:

1. Проверяется, решена ли задача
2. Генерируется список всех возможных ходов
3. Случайно выбирается один из возможных ходов
4. Выполняется переливание
5. Процесс повторяется до решения или достижения лимита шагов

## Технические детали

- **Язык**: TypeScript
- **Модули**: CommonJS
- **Зависимости**: только dev-зависимости (TypeScript, ts-node)
- **Без фреймворков**: чистая реализация на TypeScript/JavaScript
